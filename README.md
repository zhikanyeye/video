# 青云播

一个功能丰富的在线视频播放器，支持多种视频格式和播放列表管理。

## ✨ 功能特点

### 🎥 视频播放
- 支持多种视频格式：MP4、HLS (M3U8)、FLV、WebM
- 集成 ArtPlayer 播放器，提供专业的播放体验
- 支持画中画、全屏播放、截图功能
- 自适应播放质量和播放速度调节

### 🎵 播放列表管理
- 添加、删除、重排序视频
- 支持批量导入和导出播放列表
- 多种播放模式：列表播放、循环播放、单曲循环、随机播放
- 播放历史记录和进度保存

### 🌐 视频源支持
- 自动识别 B站、YouTube 等主流视频平台
- 支持直链视频文件
- 智能检测视频类型和格式

### ☁️ 云端分享
- GitHub Gist 集成，支持播放列表云端存储
- 一键分享播放列表给他人
- 跨设备同步播放列表

### 📱 响应式设计
- 完美适配桌面和移动设备
- 触摸友好的操作界面
- 深色主题和护眼模式

### ⌨️ 快捷键支持
- 空格键：播放/暂停
- 左右方向键：快进/快退
- 上下方向键：调节音量
- F键：全屏/退出全屏
- N/P键：下一个/上一个视频

## 🚀 快速开始

### 方法一：直接使用
1. 下载项目文件到本地
2. 用浏览器打开 `index.html` 即可使用

### 方法二：HTTP 服务器
```bash
# 使用 Python 启动本地服务器
python -m http.server 8080

# 或使用 Node.js
npx http-server -p 8080
```

然后访问 `http://localhost:8080`

## 📁 项目结构

```
video-main/
├── index.html          # 主页面 - 播放列表管理
├── player.html         # 播放器页面
├── styles/             # 样式文件
│   ├── main.css       # 主页面样式
│   └── player.css     # 播放器样式
├── scripts/            # JavaScript 模块
│   ├── app.js         # 主应用逻辑
│   ├── player.js      # 播放器页面控制器
│   ├── playlistPlayer.js     # 播放列表播放器
│   ├── artPlayerWrapper.js   # ArtPlayer 包装器
│   ├── playlistManager.js    # 播放列表管理
│   ├── videoDetector.js      # 视频检测器
│   ├── githubService.js      # GitHub 服务
│   ├── storage.js            # 存储管理
│   └── utils.js              # 工具函数
├── LICENSE             # MIT 许可证
└── README.md          # 项目说明
```

## 🔧 配置说明

### GitHub Token 设置 (可选)
1. 访问 [GitHub Personal Access Tokens](https://github.com/settings/tokens)
2. 创建新 Token，确保勾选 `gist` 权限
3. 在主页点击"设置"按钮，输入 Token 并保存
4. 即可使用云端分享功能

### 播放器设置
- **自动播放**：设置视频是否自动播放
- **播放模式**：列表/循环/单曲/随机播放
- **音量设置**：调节默认音量
- **键盘快捷键**：启用/禁用快捷键

## 📖 使用指南

### 添加视频
1. **单个添加**：
   - 填写视频标题
   - 输入视频 URL
   - 点击"添加视频"

2. **批量添加**：
   - 每行一个视频，格式：`标题,URL`
   - 支持空行和注释 (以 # 开头)
   - 点击"批量添加"

3. **从 Gist 导入**：
   - 输入 Gist ID 或完整 URL
   - 自动解析和导入播放列表

### 播放管理
- **播放视频**：点击视频项目或"播放全部"
- **调整顺序**：拖拽视频项目重新排序
- **删除视频**：点击删除按钮
- **搜索视频**：使用搜索框快速查找

### 分享播放列表
1. 点击"分享到 Gist"按钮
2. 系统自动上传到 GitHub Gist
3. 复制分享链接发送给他人
4. 接收者可直接打开播放

## 🎮 快捷键列表

| 快捷键 | 功能 |
|--------|------|
| `空格` | 播放/暂停 |
| `←` | 快退 10 秒 |
| `→` | 快进 10 秒 |
| `↑` | 音量增加 |
| `↓` | 音量减少 |
| `F` | 全屏切换 |
| `M` | 静音切换 |
| `N` | 下一个视频 |
| `P` | 上一个视频 |
| `R` | 切换播放模式 |
| `L` | 切换播放列表显示 |
| `/` | 聚焦搜索框 |
| `Esc` | 退出全屏 |

## 🔗 支持的视频源

### 直链视频
- MP4, WebM, OGV 等标准格式
- HLS 流媒体 (.m3u8)
- FLV 视频流
- DASH 自适应流

### 视频平台
- **YouTube**：完整 URL 或视频 ID
- **Bilibili**：BV 或 AV 号
- **其他平台**：支持标准视频 URL

### URL 示例
```
https://example.com/video.mp4
https://example.com/stream.m3u8
https://www.youtube.com/watch?v=VIDEO_ID
https://www.bilibili.com/video/BV1234567890
```

## 🛠️ 技术架构

### 前端技术
- **HTML5**：语义化标记和现代特性
- **CSS3**：Flexbox/Grid 布局、CSS 变量、动画
- **JavaScript ES6+**：模块化、异步编程、类

### 核心依赖
- **ArtPlayer**：专业视频播放器
- **HLS.js**：HLS 视频流支持
- **FLV.js**：FLV 视频流支持
- **Material Icons**：图标库

### 设计模式
- **模块化设计**：功能分离，易于维护
- **事件驱动**：松耦合的组件通信
- **响应式设计**：移动优先的布局
- **渐进增强**：优雅降级和功能检测

## 🔍 故障排除

### 常见问题

**Q: 视频无法播放？**
A: 检查视频 URL 是否有效，确认浏览器支持视频格式

**Q: GitHub 分享功能无法使用？**
A: 确认已正确设置 GitHub Token 且具有 gist 权限

**Q: 移动端播放异常？**
A: 某些浏览器需要用户手势才能自动播放视频

**Q: 键盘快捷键无效？**
A: 确认当前焦点不在输入框中，或检查快捷键设置

### 浏览器兼容性
- Chrome 80+ ✅
- Firefox 75+ ✅
- Safari 13+ ✅
- Edge 80+ ✅

## 📄 许可证

本项目采用 [MIT 许可证](LICENSE) 开源。

## 🤝 贡献

欢迎提交 Issue 和 Pull Request 来改进这个项目！

---

**享受观看视频的乐趣！** 🎬
